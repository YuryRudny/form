window.addEventListener("DOMContentLoaded",(function(){const e=document.querySelectorAll(".link_ai__hidden_block"),t=document.querySelectorAll(".link_ai__main-body-form"),a=document.querySelector("body"),o=document.querySelectorAll(".link_ai__form"),s=document.querySelectorAll(".link_ai__form input"),n="Отправка...",i="* Поле “имя” не заполнено",l="* Поле “e-mail” не заполнено",r="* Поле “телефон” не заполнено",c="Спасибо за отправку заявки. мы свяжемся с вами в течение дня.",_="Что-то пошло не так...";let d=!1;function u(){document.querySelectorAll(".link_ai__form-status p").forEach(e=>{e.textContent=""}),s.forEach(e=>{e.classList.remove("link_ai__error")})}!function(e,t,o){const s=document.querySelectorAll(e),n=document.querySelector(t),i=document.querySelector(o),l=n.querySelector(".link_ai__main-body-form");s.forEach(e=>{e.addEventListener("click",e=>{e.target&&e.preventDefault(),n.classList.add("active"),l.classList.add("active"),a.classList.add("link_ai__no-scroll"),d=!0,u()})}),i.addEventListener("click",()=>{n.classList.remove("active"),l.classList.remove("active"),a.classList.remove("link_ai__no-scroll"),d=!1,u()}),n.addEventListener("click",e=>{e.target===n&&(n.classList.remove("active"),l.classList.remove("active"),a.classList.remove("link_ai__no-scroll"),d=!1,u())})}(".link_ai__show-modal",".link_ai__hidden_block--callback",".link_ai__popapClose"),document.onkeydown=function(a){1==d&&27==a.keyCode&&(e.forEach(e=>{e.classList.remove("active")}),t.forEach(e=>{e.classList.remove("active")}),document.body.classList.remove("actilink_ai__no-scrollve"),u())},s.forEach(e=>{let t=e.getAttribute("placeholder");e.addEventListener("focus",()=>{e.placeholder=" "}),e.addEventListener("blur",()=>{e.placeholder=t}),e.addEventListener("input",()=>{e.classList.remove("link_ai__error"),document.querySelectorAll(".link_ai__form-status p").forEach(e=>{e.textContent=""})})}),o.forEach(e=>{var t;(t=e).addEventListener("submit",e=>{e.preventDefault();let a=t.querySelector(".link_ai__form-status p");a.textContent=n;const o=new XMLHttpRequest;o.open("POST","ajax.php");const s=new FormData(t);o.send(s),o.addEventListener("load",()=>{if(200===o.status)switch(a.textContent="",o.response){case"1":a.textContent=i,t.name.classList.add("link_ai__error");break;case"2":a.textContent=r,t.tel.classList.add("link_ai__error");break;case"3":a.textContent=l,t.email.classList.add("link_ai__error");break;default:const e=t.querySelector(".link_ai__form-status--succes");e.querySelector("p").textContent=c,e.classList.add("link_ai__form-status--succes--active"),t.reset(),setTimeout(()=>{e.classList.remove("link_ai__form-status--succes--active")},5e3)}else a.textContent=_})})})}));